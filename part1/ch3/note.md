# 3 章 マイクロサービスの設計

- システムをマイクロサービスに分割するプロセスをサービスの分解と呼ぶ。サービスの分解により、サービス間の境界が定義される。分散モノリスの構築というリスクを回避するために、このプロセスを正しく行う必要がある。

- ビジネスケイパビリティによる分解では、ビジネスの構造を分析し、組織内のチームごとにマイクロサービスを設計する。このアプローチではビジネスとシステムアーキテクチャが一致するようになるが、ビジネスの非効率性がプラットフォームで再現されることになる。

- サブドメインによる分解では、DDD を適用することで、サブドメインを使ってビジネスプロセスとビジネスフローをモデル化する。このアプローチを使ってサブドメインごとにマイクロサービスを設計すると、結果として技術的な設計の堅牢性が高まる。

- マイクロサービスアーキテクチャの品質を評価するために、次の 3 つの設計原則を適用する。
  - **サービスごとのデータベースの原則**
    - マイクロサービスはそれぞれ独自のデータを所有する。そのデータにはサービスの API を通じてアクセスする
  - **疎結合の原則**
    - 他のサービスに影響を与えることなくサービスを更新できなければならない。サービスはそれぞれ他のサービスをそのつど呼び出さなくても機能できなければならない。
  - **単一責任の原則**
    - 特定のビジネスケイパビリティまたはサブドメインに基づいて各サービスを設計しなければならない。
